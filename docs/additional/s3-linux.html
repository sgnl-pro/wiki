<!--
title: Установка MinIO на Linux
description: 
published: true
date: 2025-06-27T19:48:01.315Z
tags: 
editor: ckeditor
dateCreated: 2025-06-26T11:37:12.364Z
-->

<h2><strong>1. Загрузка и установка Minio</strong></h2>
<p>Первым шагом является загрузка Minio. Мы будем использовать Ubuntu Server 22.04.</p>
<p>&nbsp;</p>
<p>1.1. Скачайте и установите пакет MinIO с сайта <strong>https://min.io/docs/minio/linux/index.html</strong></p>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdUeVOm7e1YJItqH3Q3KiAYMYU0DflJ7fclJMyHwqwqT9GIbuDKPflfO2xJq_WN0PHr-ODS-0qr65zMeVcZ_Oc6DnPeRD4tNpqtfaKBB9iUF_lwfpLBtzxqQgbZJ0Z6HlgRGUdrJm6JLRp3f2Dkmg?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<h2><strong>2. Создание службы и запуск MinIO</strong></h2>
<p>2.1. Создадим пользователя, от имени которого будет запускать службу приложения:</p>
<p><strong>sudo groupadd -r minio-user</strong></p>
<p><strong>sudo useradd -M -r -g minio-user minio-user</strong></p>
<p>&nbsp;</p>
<p>2.2. Добавим этому пользователю полные права на каталог, в котором будут Ваши данные:</p>
<p><strong>sudo chown -R minio-user:minio-user /mnt/data/</strong></p>
<p>&nbsp;</p>
<p>2.3. Скачаем файл службы для приложения, чтобы MinIO работало в фоновом режиме:</p>
<p><strong>wget </strong><a href="https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service"><strong>https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service</strong></a></p>
<p>&nbsp;</p>
<p>2.4. Переместим скачанный файл в каталог служб:</p>
<p><strong>sudo mv minio.service /lib/systemd/system/</strong></p>
<p>&nbsp;</p>
<p>2.5. Включим автозагрузку службы:</p>
<p><strong>sudo systemctl enable minio.service</strong></p>
<p>&nbsp;</p>
<p>2.6. Отредактируем файл конфигурации службы:</p>
<p><strong>sudo nano /etc/default/minio</strong></p>
<p>&nbsp;</p>
<p>Вставим в файл следующий текст:</p>
<p>&nbsp;</p>
<p><strong># Volume to be used for MinIO server.</strong></p>
<p><strong>MINIO_VOLUMES="/mnt/data"</strong></p>
<p><strong># Use if you want to run MinIO on a custom port.</strong></p>
<p><strong>MINIO_OPTS="--address :9000 --console-address :9090 --certs-dir /home/administrator/.minio/certs/"</strong></p>
<p><strong># Root user for the server.</strong></p>
<p><strong>MINIO_ROOT_USER=minioadmin</strong></p>
<p><strong># Root secret for the server.</strong></p>
<p><strong>MINIO_ROOT_PASSWORD=miniopassword</strong></p>
<p>&nbsp;</p>
<p><strong># set this for MinIO to reload entries with 'mc admin service restart'</strong></p>
<p><strong>MINIO_CONFIG_ENV_FILE=/etc/default/minio</strong></p>
<p>&nbsp;</p>
<p>2.7. <strong>ВАЖНО! </strong>Требуется установить сертификат. См. подробнее ниже раздел <strong>“ 2. Подключение SSL сертификата”</strong>. После этого переходите к шагу 2.8.</p>
<p>&nbsp;</p>
<p>2.8. Запустим службу:</p>
<p><strong>sudo systemctl start minio.service</strong></p>
<p>&nbsp;</p>
<p>2.9. Проверим статус запуска:</p>
<p><strong>systemctl status minio.service</strong></p>
<p>&nbsp;</p>
<p>2.10. Зададим имя суперпользователя и его пароль:</p>
<p>Откроем в редакторе файл:</p>
<p><strong>sudo nano /etc/environment</strong></p>
<p>Добавим две строки:</p>
<p><strong>MINIO_ROOT_USER=minioadmin</strong></p>
<p><strong>MINIO_ROOT_PASSWORD=miniopassword</strong></p>
<p>&nbsp;</p>
<p><strong>ВНИМАНИЕ!</strong>&nbsp;Рекомендуется указать более сложный пароль.</p>
<p>&nbsp;</p>
<p>2.11. Запустим приложение в консоли:</p>
<p><strong>sudo minio server --console-address :9090 --certs-dir /home/administrator/.minio/certs /mnt/data/</strong></p>
<p>&nbsp;</p>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcYJNXYp-5b-s-HFdzsOR-2uYKKil4zNdVV8T0Gn48K8B2G0SSwg1ChXTxIAsIwtlCTm5lPLmloG4O6R2MUwMGTCXFBYfnrJcOWgh22XWHJ3VxW3zubejE6O-s3g6OIbCe2XVjAkRGhcYUb009V?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<p>2.12. Приложение запущено, можно переходить к настройке MinIO</p>
<h2><strong>2. Подключение SSL сертификата</strong></h2>
<p>Вам необходимо заранее приобрести в специализированных центрах (например, <a href="https://www.reg.ru/"><u>https://www.reg.ru/</u></a>) &nbsp;коммерческий сертификат для доменного имени Вашего хранилища. Например, если адрес хранилища будет s3.YOURDOMAIN.RU, тогда сертификат необходим или непосредственно для адреса s3.YOURDOMAIN.RU, или сертификат домена типа WIldcard (*.YOURDOMAIN.RU).</p>
<p>Полученные данные необходимо сохранить в двух файлах:</p>
<ul>
  <li>сертификат в файле<strong>&nbsp;public.crt</strong></li>
  <li>закрытый ключ в файле <strong>private.key</strong></li>
</ul>
<p>&nbsp;</p>
<p>Оба файла необходимо поместить в папку certs в профиле пользователя на сервере, где будет работать приложение MinIO. Например, /home/administrator/.minio/certs/</p>
<h2><strong>3. Настройка MinIO</strong></h2>
<p>После запуска Minio вы можете перейти в веб-интерфейс хранилища. Для этого откройте браузер и перейдите по адресу: <a href="https://localhost:9090/"><u>https://localhost:9090</u></a></p>
<p>&nbsp;</p>
<p>Введите логин и пароль суперпользователя. В предыдущих шагах (шаг 2.3.) инструкции мы указали их как minioadmin и miniopassword.<br>&nbsp;</p>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdhMTVMbpW-9MDdp9DsYtToP-_-ULQ55rSqf7PHkrAuPycJiT_MhPuTRm5npWaYT-yfd4HPfeqEHYCFbxDZRpCgaqtPee-GUawuuxLjnNUeu01Cx6wai4_RjOj8BIBWsqzfmMs3h9N5xJuTJ2octw?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<h3><strong>Создание ключа доступа</strong></h3>
<p>Ключ доступа в Minio используется для авторизации доступа к объектному хранилищу из сервиса DOCS. Ключ доступа включает в себя идентификатор пользователя (Access Key) и секретный ключ (Secret Key), который используется для аутентификации пользователя и обеспечения безопасности данных. Без ключа доступа невозможно получить доступ к объектам в хранилище Minio.</p>
<p>&nbsp;</p>
<ol>
  <li>Для создания ключа доступа перейдите во вкладку Access Keys ➤ Create access key</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeoocy1t3UC0xU4WbFU07kVXg0DK5Mg02ESJ2Z46jRVBIK-SSdAUaZTCBHtFiTWx-nDpVaiP7QR4kBXMlFIbSlmiKZdrk_8IYTerlSzENk9vLECYbeVAQfDK_5LLCOMbyqbJhI5EV7y9xdvpO8-wA?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Заполните поля <strong>Access Key</strong>&nbsp;и <strong>Secret Key </strong>самостоятельно или оставьте их как есть. Запомните данные поля, т.к. они понадобятся для подключения к DOCS. Нажмите Create.</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdmxIcwFtAUNB1ifVXsjiT3G5VUXRqg9E3N8cS-m58qVA4zMgA_TckRWpIyW5WXkHVSxLzUhubZKkaFXJZNUyMOh2zWT8YvFM5yegB3TWI54LJ89E0z1bPvYro7SMucDTVn-Ae8SkP2hymkOQR0?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Ключ доступа создан</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXehfx3T4INSNvFWGhMbfkn8xX_x9t10-pJiRma5ZU-AjNU5OMHkwZR9R0Xq2bkLqKyOX-ytRkps9l_HPPhQEhMHJFK5k2xrzfpl5k22wcK3Xygwi0C-cgzAyZDkFBvwLrVkbFsna6NkttoYZ3FK?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<h3><strong>Создание бакета</strong></h3>
<p>Для хранения файлов в Minio необходимо создать бакеты. Бакеты - это контейнеры, которые содержат файлы и папки.</p>
<p>&nbsp;</p>
<ol>
  <li>Чтобы создать новый бакет перейдите во вкладку Buckets ➤ Create bucket</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXewlmCQegGkqjp6c6sjjCvuEJ6cp26CJhP24DSJ4mle8pSyudMxpnaSWdyamk_OUUmmfOHb5JVCRwq32YsjAb4dh8mUZP4fsE1Wmfw1F8dNcuzDoGckSYg3ApQqPCY_7ZWl_sJGWXpLQjcXaLyheQ?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Введите имя бакета, включите переключатель Versioning и нажмите Create Bucket</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeyMU5SjIi-NcXGNaOU8daZu42hWCZ_qdg6W9duF2R5THg4ePP1ABmNl6N_aaCh1d0vFPG60HAnX_pR5G-A9ygbKZlzjtsLy5tzgqAXpRq7cTGV0cGHQ9aiU7fxwCTj7WbDMuITIHFBtDyiPU6m2A?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Бакет создан.</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeNx_Fgjcjwu6OvMvbrDq1dOLFcS1Cb1q3p3EVtQVPsNmHkSojBKlqhBStTbGhPUmfHqBnpBv4Qe63CXlAscsF5GUIcQPMgDTGQKQei5vLBw2v8UWOettDFe1_zqHBkfshAtzwdt5JkD5NTDJfdqA?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<h1><strong>Подключение хранилища к сервису DOCS</strong></h1>
<p><strong>ВНИМАНИЕ!</strong></p>
<p>Для подключения к сервису DOCS данный сервер должен быть опубликован в сеть Интернет по портам 9000 и 9090. И во внешней DNS-зоне Вашего домена необходимо создать A-запись с указанием IP-адреса, на котором опубликован сервер с приложением MinIO.</p>
<p>&nbsp;</p>
<p>Откройте сервис docs.sgnl.pro. Перейдите в настройки сервиса: для этого нажмите на профиль ➤ Настройки</p>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcaqOuZiGQx_ReaCBFormpAzGNv9yhNnIs0_c6flqSDi7R_TpNpWzVzUwQPitGGpYJG3VwWJzIGmKIEtEamshiDSH0-MPerw9L1NC1efzrZMB1gXKL1rTFfWOexxoGj2hrf4TRzD0lOUFFkdUn2Ng?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Нажмите Добавить новое хранилище</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXePdy4AZ8DeDq5r2PeOagBUSZsfjAY-1Phzm7blqBOHr_oKJakP8KAQg4gE5RfAamepIbIEq3V6dXMcy3ILS72-UjWU9NOAyP1ofYBLzDwtRW9kyEkbev7p4N--drb2gZFVq8F3_0kM8NW3a5scGQ?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ol>
  <li>Заполните данные в появившемся окне и нажмите Сохранить:</li>
</ol>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdu46sxReIUjmjFhEC8dc-zx6xoY4OiI7wru-Yy4uAQptOmcD2ozfEWyuKXHfG3p-znrrrqbIVBudr41omaFHp_HN9cs08LW0B0zSDb3SPMA2ItXJ-NoX7alW5CJazzOWrub1Qwdk9Z7F3HR9KAaw?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<p>Обязательные поля:</p>
<ul>
  <li><strong>В строке “Название”</strong>&nbsp;впишите название хранилища для сервиса DOCS</li>
  <li><strong>В строку “EndPoint”</strong>&nbsp;вставьте ссылку на сервер с портом 9000, например https://s3.YOURDOMAIN.RU:9090</li>
  <li><strong>В строку “Access Key”</strong>&nbsp;вставьте ключ доступа</li>
  <li><strong>В строку “Secret Key”</strong>&nbsp;вставьте секретный ключ</li>
</ul>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdmxIcwFtAUNB1ifVXsjiT3G5VUXRqg9E3N8cS-m58qVA4zMgA_TckRWpIyW5WXkHVSxLzUhubZKkaFXJZNUyMOh2zWT8YvFM5yegB3TWI54LJ89E0z1bPvYro7SMucDTVn-Ae8SkP2hymkOQR0?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<ul>
  <li><strong>В строку “Bucket Name”</strong>&nbsp;впишите название бакета</li>
</ul>
<figure class="image"><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeNx_Fgjcjwu6OvMvbrDq1dOLFcS1Cb1q3p3EVtQVPsNmHkSojBKlqhBStTbGhPUmfHqBnpBv4Qe63CXlAscsF5GUIcQPMgDTGQKQei5vLBw2v8UWOettDFe1_zqHBkfshAtzwdt5JkD5NTDJfdqA?key=tGiWAnAfYwulDbckjXpJUQ" alt=""></figure>
<p>Не обязательные поля</p>
<ul>
  <li><strong>В строку “Region”&nbsp;</strong> впишите регион сервера</li>
</ul>
<ol>
  <li>Готово. Теперь можно пользоваться сервисом</li>
</ol>
